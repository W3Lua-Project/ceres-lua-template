# Ceres Lua Template

Данный репозиторий основан на первоначальном репозитории проекта Ceres https://github.com/ceres-wc3/ceres-lua-template с небольшими изменениями в конфигурации сборки, ресурса карты, списка файлов, входящих в git-систему управления версиями.


# Установка и эксплуатация

При установке руководствуйтесь инструкцией изначального репозитория, ссылка на который дана выше в описании. Аналогичное клонирование репозитория: `git clone https://github.com/W3Lua-Project/ceres-lua-template.git`. Также можете попробовать использовать кнопку "Use this template" на сайте и создать (склонировать, если так можно выразиться) первым делом проект на сервере.

При эксплуатации пользуйтесь дополнительными вещами, заданными уже этим репозиторием. Подключайте все модули в исходный скрипт через файл main.lua в начале относительного пути проекта. Модули устанавливаются через инструкции клонирования с github, чаще всего нужная инструкция указывается в README самого модуля в github. Например, чтобы установить единственный необходимый для этого проекта (подключается в src/index.lua, посмотрите файл), используйте команду `cd modules && git clone https://github.com/W3Lua-Project/Ceres-example`. Если вы еще не клонировали этот репозиторий, соответственно, команды соединяются:

`git clone https://github.com/W3Lua-Project/ceres-lua-template.git \`
`cd ceres-lua-template \`
`mkdir modules && cd modules \`
`git clone https://github.com/W3Lua-Project/Ceres-example`

На Linux запускайте тест карты через команду `./launch`, начиная с начала относительного пути проекта. Предварительно должен быть установлен wine плюс подготовлен к запуску Warcraft (для PTR и Reforged следуйте инструкциям в этой статье https://www.reddit.com/r/WC3/comments/dsijcy/reforged_works_under_linux/). В самом файле launch настраиваете пути к игре и карте.

Так же для отдельной компиляции (чтоб не запускался Warcraft, если не скомпилировалась карта из-за ошибок) предусмотрен для запуска на Linux файл build.

На Windows, соответственно, пользуетесь просто командами Ceres, расписанными в оригинальном репозитории, ссылка на который дана в начале инструкции.


# Разработка проекта

При разработке проекта вы можете работать как над исходным кодом, так и над кодом модулей, пользуясь при этом системой git управления версиями. Чтобы обновлять внешний репозиторий (сам проект карты) и делать для него коммиты, оставайтесь в папке modules и проделывайте все необходимые команды (такие как `git add -A`, `git commit -m "<message>"`, `git push`, `git pull` и другие). Когда работаете с модулями, делаете то же самое, только переходите в директорию соответствующего модуля: `cd <module_dir>`. А затем обратно: `cd ..`, и уже как бы переходите в режим работы над внешним репозиторием, над самим проектом карты.

Для удобства при работе на Linux файлы build и launch можно запускать в отдельном терминале. Запуск терминала можно осуществить, например, командой `gnome-terminal` (в зависимости от используемого дистрибутива).

Чтобы заливать на свой сервер github изменения репозиториев, склонированных и взятых у других владельцев, нужно привязывать их прежде к своему созданному репозиторию. Сделать это можно, следуя данной инструкции https://devacademy.ru/recipe/kak-izmenit-git-remote-url.